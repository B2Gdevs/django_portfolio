{% load static %}

<!DOCTYPE html>
<html lang="en">

  <head>

        <meta charset="utf-8">
        <title>Benjamin Garrard's Portoflio</title>
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
        <meta content="" name="keywords">
        <meta content="" name="description">
      
        <!-- Favicons -->
        <link href="{% static 'img/favicon.png' %}" rel="icon">
        <link href="{% static 'img/apple-touch-icon.png' %}" rel="apple-touch-icon">
      
        <!-- Bootstrap CSS File -->
        <link href="{% static 'lib/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
      
        <!-- Libraries CSS Files -->
        <link href="{% static 'lib/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet">
        <link href="{% static 'lib/animate/animate.min.css' %}" rel="stylesheet">
        <link href="{% static 'lib/ionicons/css/ionicons.min.css' %}" rel="stylesheet">
        <link href="{% static 'lib/owlcarousel/assets/owl.carousel.min.css' %}" rel="stylesheet">
        <link href="{% static 'lib/lightbox/css/lightbox.min.css' %}" rel="stylesheet">
      
        <!-- Main Stylesheet File -->
        <link href="{% static 'css/style.css' %}" rel="stylesheet">

        <!-- Custom styles for this template -->
        <link href="{% static 'css/custom.css' %}" rel="stylesheet">
        <script src="https://cdn.jsdelivr.net/npm/pdfjs-dist@2.0.943/build/pdf.min.js"></script>

  </head>

  <body id='custom-body'>


        <!--/ Nav Star /-->
        {% include 'nav.html' %}
              <!--/ Nav End /-->

    <!-- Page Content -->
    <div class= "container">

      <!-- Portfolio Item Heading -->
      <h1 class="my-4">{{project.project_name}}
      </h1>

      <!-- Portfolio Item Row -->
      <div class="row">

        <div class="col-md-8">

          <img class="img-fluid" src="{{project.image.url}}" alt="">
        </div>

        <div class="col-md-4">
          <h3 class="my-3">{{project.project_name}}</h3>
          <p>{{project.project_description}}</p>
          <h3 class="my-3">Project Details</h3>
          <ul>
            <li>{{project.technologies_used1}}</li>
            <li>{{project.technologies_used2}}</li>
            <li>{{project.technologies_used3}}</li>
            <li>{{project.technologies_used4}}</li>
          </ul>
        </div>
        
        <!-- {% if project.pdf_presentation %}
        <div class="col-mid-12 col-xs-12 col-lg-12 " id="canvas-holder">
          <h2 class="my-2">PDF Presentation</h2>
          <button type="button" class="btn btn-primary" id="pagination-left">Previous</button>
          <canvas id="pdf-canvas"></canvas>
          <button type="button" class="btn btn-primary" id="pagination-right">Next</button>
        </div>

        <script>
          pdfjsLib.getDocument('{{project.pdf_presentation.url}}').then(doc =>{
              console.log(`This document has ${doc._pdfInfo.numPages} pages`);

              doc.getPage(1).then(page => {
                let myCanvas = document.getElementById("pdf-canvas");
                let context = myCanvas.getContext("2d");
                let button = document.getElementById("pagination-left");
                let viewport = page.getViewport(1);
                let scale = button.clientWidth / viewport.width;
                viewport = page.getViewport(scale);
                

                myCanvas.width = viewport.width;
                myCanvas.height = viewport.height;

                page.render({
                  canvasContext: context,
                  viewport: viewport
                });

              })
          });
          </script>
        {% endif %} -->

      </div>
      <!-- /.row -->

      <!-- Related Projects Row -->
      <h3 class="my-4">Related Projects</h3>

      <div class="row">

        {% for project_ in projects%}
        <div class="col-md-3 col-sm-6 mb-4 col-lg-3">
          <a href="{{project_.id}}">
            <img class="img-fluid" src="{{project_.image.url}}" alt="">
          </a>
        </div>
        {% endfor %}

        

      </div>
      <!-- /.row -->

    </div>
    <!-- /.container -->

    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    <div id="preloader"></div>
  
    <!-- JavaScript Libraries -->
    <script src="{% static 'lib/jquery/jquery.min.js' %}"></script>
    <script src="{% static 'lib/jquery/jquery-migrate.min.js' %}"></script>
    <script src="{% static 'lib/popper/popper.min.js' %}"></script>
    <script src="{% static 'lib/bootstrap/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'lib/counterup/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'lib/counterup/jquery.counterup.js' %}"></script>
    <script src="{% static 'lib/owlcarousel/owl.carousel.min.js' %}"></script>
    <script src="{% static 'lib/lightbox/js/lightbox.min.js' %}"></script>
    <script src="{% static 'lib/typed/typed.min.js' %}"></script>
    <!-- Contact Form JavaScript File -->
    <!-- <script src="{% static 'contactform/contactform.js' %}"></script> -->
  
    <!-- Template Main Javascript File -->
    <script src="{% static 'js/main.js' %}"></script>

  </body>

</html>
